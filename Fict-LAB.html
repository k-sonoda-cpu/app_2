<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fict-LAB | ã¡ã‚‡ã£ã¨æ¥½ã—ã„æ¶ç©ºã‚µã‚¤ãƒˆ</title>
  <meta name="description" content="Fict-LABã¯ã€éŠã³å¿ƒã§å­¦ã¹ã‚‹â€œãªã‚“ã¡ã‚ƒã£ã¦â€ç ”ç©¶æ‰€ã€‚ãƒ‡ãƒ¢ç”¨ã®æ¶ç©ºã‚µã‚¤ãƒˆã§ã™ã€‚" />
  <style>
    /* =========================
       Base & Theme
    ========================== */
    :root{
      --bg: #0b0f14;
      --panel: #0f1720;
      --text: #e7f0ff;
      --muted: #9fb3c8;
      --brand: #66d9ff;
      --brand-2:#aeee6e;
      --accent:#ffd166;
      --ring: #66d9ff55;
      --shadow: 0 10px 25px rgba(0,0,0,.35);
      --radius: 18px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Hiragino Kaku Gothic ProN", "Yu Gothic UI", "Yu Gothic", "Meiryo", sans-serif;
    }
    :root.light{
      --bg: #f8fafc;
      --panel:#ffffff;
      --text:#0a0f16;
      --muted:#4b5563;
      --brand:#2563eb;
      --brand-2:#16a34a;
      --accent:#f59e0b;
      --ring:#2563eb33;
      --shadow: 0 10px 24px rgba(2,8,23,.12);
    }
    html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 600px at 80% -10%, #122033, transparent 60%), var(--bg);
      color:var(--text); font-family:var(--font); line-height:1.65;
    }
    a{color:var(--brand); text-decoration:none}
    img{max-width:100%; display:block}
    .container{width:min(1100px, 92%); margin-inline:auto}
    .btn{--btn-bg:linear-gradient(90deg,var(--brand),var(--brand-2)); --btn-text:#001018;
      display:inline-flex; align-items:center; gap:.6rem; border:none; padding:.9rem 1.2rem; border-radius:calc(var(--radius) - 6px);
      background:var(--btn-bg); color:var(--btn-text); font-weight:700; cursor:pointer; box-shadow:var(--shadow); position:relative; isolation:isolate}
    .btn:focus-visible{outline:3px solid var(--ring)}
    .btn.ghost{background:transparent; color:var(--text); border:1px solid #ffffff22}

    /* =========================
       Header
    ========================== */
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(120%) blur(8px);
      background:linear-gradient( to bottom, #0b0f14cc, #0b0f1400 );
      border-bottom:1px solid #ffffff10;
    }
    .nav{display:flex; align-items:center; justify-content:space-between; padding:.8rem 0}
    .brand{display:flex; align-items:center; gap:.7rem; font-weight:800; letter-spacing:.4px}
    .logo{width:36px; height:36px; border-radius:12px; display:grid; place-items:center; font-weight:900; background:conic-gradient(from 180deg, var(--brand), var(--brand-2), var(--accent), var(--brand)); color:#031016}
    .navlinks{display:flex; gap:1rem}
    .navlinks a{padding:.6rem .8rem; border-radius:10px}
    .navlinks a:hover{background:#ffffff10}
    .right-controls{display:flex; align-items:center; gap:.6rem}
    .toggle{display:inline-grid; place-items:center; width:40px; height:40px; border-radius:12px; border:1px solid #ffffff22; background:#00000020}
    .burger{display:none}
    @media (max-width: 780px){
      .burger{display:inline-grid}
      .navlinks{display:none}
      .nav.open .navlinks{display:grid; gap:.4rem; position:absolute; inset:60px 4% auto; background:var(--panel); border:1px solid #ffffff16; border-radius:16px; padding:.6rem}
      .nav.open .navlinks a{background:transparent}
    }

    /* =========================
       Hero
    ========================== */
    .hero{padding: clamp(2rem, 7vw, 5.6rem) 0; position:relative}
    .hero-grid{display:grid; grid-template-columns: 1.2fr 1fr; gap:2rem; align-items:center}
    .hero h1{font-size:clamp(1.8rem, 5.2vw, 3.2rem); line-height:1.2; margin:.2rem 0}
    .hero p{color:var(--muted)}
    .hero-card{background:linear-gradient(180deg, #0b111a, #0a0e14); border: 1px solid #ffffff14; border-radius:var(--radius); padding:1.2rem; box-shadow:var(--shadow)}
    .badge{display:inline-flex; gap:.5rem; align-items:center; font-size:.85rem; color:#0b141a; background:linear-gradient(90deg, var(--accent), #fff2b3); padding:.3rem .6rem; border-radius:999px}
    .starfield{position:absolute; inset:0; pointer-events:none; mask-image: radial-gradient(80% 60% at 60% 10%, black, transparent 85%)}

    /* =========================
       Sections
    ========================== */
    section{padding: clamp(2rem, 6vw, 4rem) 0}
    .section-title{font-size:clamp(1.4rem, 3.3vw, 2rem); margin-bottom:1rem}
    .grid-3{display:grid; grid-template-columns: repeat(3, 1fr); gap:1rem}
    @media (max-width: 980px){.hero-grid{grid-template-columns: 1fr} .grid-3{grid-template-columns: 1fr 1fr}}
    @media (max-width: 640px){.grid-3{grid-template-columns: 1fr}}

    .card{background:linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel), #000 8%)); border:1px solid #ffffff12; border-radius:var(--radius); padding:1rem; box-shadow:var(--shadow); position:relative}
    .card h3{margin:.2rem 0 .3rem}
    .card p{color:var(--muted)}
    .pill{display:inline-flex; gap:.4rem; align-items:center; font-size:.8rem; color:var(--text); border:1px dashed #ffffff30; padding:.2rem .5rem; border-radius:999px}
    .like{position:absolute; right:.8rem; top:.8rem; display:inline-grid; place-items:center; width:36px; height:36px; border-radius:50%; border:1px solid #ffffff22; background:#00000020; cursor:pointer}
    .like[data-liked="true"]{background:radial-gradient(circle at 30% 30%, #ffe08a, #ff7ab6)}
    .like b{font-variant-numeric: tabular-nums}

    /* =========================
       Gallery
    ========================== */
    .gallery{display:grid; grid-template-columns: repeat(6, 1fr); gap:.6rem}
    .gallery figure{aspect-ratio: 4 / 3; border-radius:14px; overflow:hidden; border:1px solid #ffffff14; position:relative}
    .gallery figcaption{position:absolute; inset:auto 8px 8px 8px; background:#00000060; padding:.2rem .5rem; border-radius:8px; font-size:.85rem}
    @media (max-width: 980px){.gallery{grid-template-columns: repeat(3, 1fr)}}
    @media (max-width: 520px){.gallery{grid-template-columns: repeat(2, 1fr)}}

    /* =========================
       FAQ (details/summary)
    ========================== */
    details{border:1px solid #ffffff12; border-radius:14px; background:var(--panel); box-shadow:var(--shadow)}
    details+details{margin-top:.6rem}
    summary{list-style:none; padding:1rem; cursor:pointer; display:flex; align-items:center; justify-content:space-between}
    summary::-webkit-details-marker{display:none}
    summary span{font-weight:700}
    .chev{transition:transform .25s ease}
    details[open] .chev{transform:rotate(180deg)}
    .faq-content{padding:0 1rem 1rem; color:var(--muted)}

    /* =========================
       Contact
    ========================== */
    form{display:grid; gap:.8rem}
    .field{display:grid; gap:.3rem}
    input, textarea{background:#00000020; color:var(--text); border:1px solid #ffffff22; border-radius:12px; padding:.8rem}
    input:focus-visible, textarea:focus-visible{outline:3px solid var(--ring)}
    .toast{position:fixed; right:18px; bottom:18px; background:var(--panel); color:var(--text); border:1px solid #ffffff22; border-radius:14px; padding:.8rem 1rem; box-shadow:var(--shadow); opacity:0; transform:translateY(10px); transition:opacity .25s, transform .25s}
    .toast.show{opacity:1; transform:translateY(0)}

    /* =========================
       Footer
    ========================== */
    footer{padding:2rem 0; color:var(--muted); border-top:1px dashed #ffffff22}
    .to-top{position:fixed; right:18px; bottom:18px; transform:translateY(80px); transition:transform .25s}
    .to-top.show{transform:translateY(0)}
:root.light .hero-card{
  background: linear-gradient(180deg, #ffffff, #f5f8fb);
  border-color: #0b122014;
  color: var(--text); /* ãƒ©ã‚¤ãƒˆç”¨ã®æ¿ƒã„æ–‡å­—è‰²ï¼ˆæ—¢å®šï¼‰ã§OK */
}

  </style>
</head>
<body>
  <!-- ========================= Header ========================= -->
  <header>
    <div class="container nav" id="nav">
      <a class="brand" href="#top" aria-label="ãƒˆãƒƒãƒ—ã¸">
        <span class="logo">FL</span>
        <span>Fict-LAB</span>
      </a>
      <nav class="navlinks" aria-label="ãƒ¡ã‚¤ãƒ³">
        <a href="#about">ç‰¹å¾´</a>
        <a href="#gallery">ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">ãŠå•ã„åˆã‚ã›</a>
      </nav>
      <div class="right-controls">
        <button class="toggle" id="themeToggle" aria-label="ãƒ†ãƒ¼ãƒåˆ‡æ›¿ (æ˜/æš—)">ğŸŒ“</button>
        <button class="toggle burger" id="burger" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">â˜°</button>
      </div>
    </div>
  </header>

  <!-- ========================= Hero ========================= -->
  <main id="top" class="hero">
    <div class="container hero-grid">
      <div>
        <span class="badge">âš—ï¸ å®Ÿé¨“çš„ & æ¥½ã—ã„ â€“ ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆ</span>
        <h1>éŠã³å¿ƒã§å­¦ã¶ã€<br>ã¡ã‚‡ã£ã¨ä¸æ€è­°ãªç ”ç©¶æ‰€ <em style="font-style:normal; color:var(--accent)">Fict-LAB</em></h1>
        <p>ã“ã®ãƒšãƒ¼ã‚¸ã¯ <strong>HTML/CSS/JavaScript</strong> ã ã‘ã§æ§‹æˆã•ã‚ŒãŸã‚·ãƒ³ã‚°ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¶ç©ºã‚µã‚¤ãƒˆã§ã™ã€‚ãƒ‡ã‚¶ã‚¤ãƒ³ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ†ãƒ¼ãƒåˆ‡æ›¿ã€ãƒ•ã‚©ãƒ¼ãƒ æ¤œè¨¼ã€ã¡ã‚‡ã£ã¨ã—ãŸã‚¢ãƒ‹ãƒ¡ãªã©ã€å­¦ç¿’ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è©°ã‚è¾¼ã¿ã¾ã—ãŸã€‚</p>
        <div style="display:flex; gap:.6rem; flex-wrap:wrap; margin-top:.8rem">
          <a class="btn" href="#about" id="cta">ã¯ã˜ã‚ã‚‹</a>
          <button class="btn ghost" id="spark">ãã‚‰ã‚ãã‚’è¿½åŠ  âœ¨</button>
        </div>
      </div>
      <div class="hero-card" aria-hidden="true">
        <h3>ä»Šæ—¥ã®å®Ÿé¨“ãƒ­ã‚°</h3>
        <ul>
          <li>ğŸ”¬ ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã®åˆ‡æ›¿ãƒ†ã‚¹ãƒˆ</li>
          <li>ğŸ“Œ å›ºå®šãƒ˜ãƒƒãƒ€ãƒ¼ã¨ãƒŸãƒ‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼</li>
          <li>ğŸ“– æŠ˜ã‚ŠãŸãŸã¿å¼ã®è³ªå•ã‚³ãƒ¼ãƒŠãƒ¼</li>
          <li>ğŸ“¨ å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®æ¤œè¨¼å®Ÿé¨“</li>
          <li>âœ¨ å…‰ã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã®è¦³å¯Ÿ</li>
        </ul>
      </div>
    </div>
    <canvas class="starfield" id="starfield" aria-hidden="true"></canvas>
  </main>

  <!-- ========================= About ========================= -->
  <section id="about">
    <div class="container">
      <h2 class="section-title">Fict-LAB ã®ç‰¹å¾´</h2>
      <div class="grid-3">
        <article class="card">
          <button class="like" aria-label="ã„ã„ã­" data-count="0"><b>0</b>â­</button>
          <span class="pill">UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</span>
          <h3>å¿…è¦ååˆ†ãª UI</h3>
          <p>ã‚«ãƒ¼ãƒ‰ã€ãƒãƒƒã‚¸ã€ãƒ”ãƒ«ã€ãƒœã‚¿ãƒ³ã€ãƒˆã‚°ãƒ«ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä»£ã‚ã‚Šã«ãƒˆãƒ¼ã‚¹ãƒˆãªã©ã€æœ€ä½é™ã® UI ã‚’è‡ªä½œã€‚</p>
        </article>
        <article class="card">
          <button class="like" aria-label="ã„ã„ã­" data-count="0"><b>0</b>â­</button>
          <span class="pill">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span>
          <h3>æ„å‘³ã®ã‚ã‚‹ HTML</h3>
          <p>&lt;main&gt;ã€&lt;nav&gt;ã€&lt;section&gt;ã€&lt;article&gt; ã‚’é©åˆ‡ã«ä½¿ã„ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã‚„ãƒ•ã‚©ãƒ¼ã‚«ã‚¹çŠ¶æ…‹ã«ã‚‚é…æ…®ã€‚</p>
        </article>
        <article class="card">
          <button class="like" aria-label="ã„ã„ã­" data-count="0"><b>0</b>â­</button>
          <span class="pill">å­¦ç¿’ã«æœ€é©</span>
          <h3>ã‚³ãƒ”ãƒšã§ä½¿ãˆã‚‹</h3>
          <p>ä¸€æšã® HTML ãƒ•ã‚¡ã‚¤ãƒ«ã« CSS ã¨ JS ã‚’å†…è”µã€‚éƒ¨åˆ†çš„ã«åˆ‡ã‚Šå‡ºã—ã¦è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆ©ç”¨å¯èƒ½ã€‚</p>
        </article>
      </div>
    </div>
  </section>

  <!-- ========================= Gallery ========================= -->
  <section id="gallery">
    <div class="container">
      <h2 class="section-title">ã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼ˆãƒ©ãƒ³ãƒ€ãƒ å›³å½¢ãƒ‡ãƒ¢ï¼‰</h2>
      <div class="gallery" aria-live="polite" id="galleryGrid"></div>
      <div style="margin-top:.8rem; display:flex; gap:.6rem; flex-wrap:wrap">
        <button class="btn" id="regen">ã‚®ãƒ£ãƒ©ãƒªãƒ¼å†ç”Ÿæˆ</button>
        <button class="btn ghost" id="shuffle">ä¸¦ã³æ›¿ãˆ</button>
      </div>
    </div>
  </section>

  <!-- ========================= FAQ ========================= -->
  <section id="faq">
    <div class="container">
      <h2 class="section-title">FAQ</h2>
      <details>
        <summary><span>ã“ã‚Œã¯æœ¬ç‰©ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã‹ï¼Ÿ</span> <span class="chev">âŒƒ</span></summary>
        <div class="faq-content">ã„ã„ãˆã€‚å­¦ç¿’ãƒ»ãƒ‡ãƒ¢ç”¨ã® <strong>æ¶ç©ºã‚µã‚¤ãƒˆ</strong> ã§ã™ã€‚UI/UX ã®è©¦ä½œã«ã©ã†ãã€‚</div>
      </details>
      <details>
        <summary><span>å•†ç”¨ã§ä½¿ã£ã¦ã‚‚è‰¯ã„ã§ã™ã‹ï¼Ÿ</span> <span class="chev">âŒƒ</span></summary>
        <div class="faq-content">ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè‡ªä½“ã¯è‡ªç”±ã«åˆ©ç”¨ãƒ»æ”¹å¤‰ã§ãã¾ã™ã€‚ç”»åƒãªã©ã®å¤–éƒ¨ç´ æã¯æœªä½¿ç”¨ã§ã™ã€‚</div>
      </details>
      <details>
        <summary><span>å­¦ã¹ã‚‹ãƒã‚¤ãƒ³ãƒˆã¯ï¼Ÿ</span> <span class="chev">âŒƒ</span></summary>
        <div class="faq-content">ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­è¨ˆã€ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒã€çŠ¶æ…‹ä¿å­˜ã€ãƒ•ã‚©ãƒ¼ãƒ æ¤œè¨¼ã€DOM æ“ä½œã€Canvas æç”»ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãªã©ã€‚</div>
      </details>
    </div>
  </section>

  <!-- ========================= Contact ========================= -->
  <section id="contact">
    <div class="container">
      <h2 class="section-title">ãŠå•ã„åˆã‚ã›</h2>
      <form id="contactForm" novalidate>
        <div class="field">
          <label for="name">ãŠåå‰</label>
          <input id="name" name="name" placeholder="ä¾‹ï¼‰æ¶ç©º å¤ªéƒ" required minlength="2" />
        </div>
        <div class="field">
          <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required />
        </div>
        <div class="field">
          <label for="msg">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
          <textarea id="msg" name="msg" rows="4" placeholder="ã”ç”¨ä»¶ã‚’ã©ã†ã" required></textarea>
        </div>
        <div style="display:flex; gap:.6rem; flex-wrap:wrap; align-items:center">
          <button class="btn" type="submit">é€ä¿¡ã™ã‚‹</button>
          <span id="formHint" aria-live="polite" style="color:var(--muted)"></span>
        </div>
      </form>
    </div>
  </section>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>
  <button class="btn to-top" id="toTop" aria-label="ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹">â–² ãƒˆãƒƒãƒ—ã¸</button>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; gap:1rem; flex-wrap:wrap">
      <small>Â© <span id="year"></span> Fict-LAB â€“ Fictional Demo</small>
      <small><a href="#top">åˆ©ç”¨è¦ç´„</a> ãƒ» <a href="#top">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼</a></small>
    </div>
  </footer>

  <script>
    // =========================
    // Utilities
    // =========================
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => [...el.querySelectorAll(s)];

    // =========================
    // Theme (persist via localStorage)
    // =========================
    const root = document.documentElement;
    const themeKey = 'mogu-theme';
    const saved = localStorage.getItem(themeKey);
    if(saved === 'light') root.classList.add('light');
    $('#themeToggle').addEventListener('click', () => {
      root.classList.toggle('light');
      localStorage.setItem(themeKey, root.classList.contains('light') ? 'light' : 'dark');
      toast(`ãƒ†ãƒ¼ãƒã‚’ ${root.classList.contains('light') ? 'ãƒ©ã‚¤ãƒˆ' : 'ãƒ€ãƒ¼ã‚¯'} ã«åˆ‡æ›¿ãˆã¾ã—ãŸ`);
    });

    // =========================
    // Mobile nav toggle
    // =========================
    const nav = $('#nav');
    $('#burger').addEventListener('click', ()=> nav.classList.toggle('open'));
    $$('.navlinks a').forEach(a=> a.addEventListener('click', ()=> nav.classList.remove('open')));

    // =========================
    // Starfield Canvas (background flair)
    // =========================
    const canvas = $('#starfield');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function resize(){ canvas.width = canvas.clientWidth; canvas.height = 360; }
    function spawnStar(){
      stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()*1.6+0.4, v: Math.random()*0.3+0.1});
      if(stars.length>200) stars.shift();
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.globalAlpha = .9; ctx.fillStyle = '#ffffff';
      stars.forEach(st => { ctx.beginPath(); ctx.arc(st.x, st.y, st.s, 0, Math.PI*2); ctx.fill(); st.y += st.v; if(st.y>canvas.height) st.y=0; });
      requestAnimationFrame(draw);
    }
    addEventListener('resize', resize); resize(); setInterval(spawnStar, 60); requestAnimationFrame(draw);

    // =========================
    // CTA Sparkles (particles on click)
    // =========================
    function burst(el){
      const n = 16;
      const rect = el.getBoundingClientRect();
      for(let i=0;i<n;i++){
        const p = document.createElement('span');
        p.textContent = 'âœ¦';
        p.style.position='fixed';
        p.style.left = (rect.left + rect.width/2) + 'px';
        p.style.top = (rect.top + rect.height/2) + 'px';
        p.style.pointerEvents='none';
        p.style.transition = 'transform .6s cubic-bezier(.2,.7,0,1), opacity .6s';
        p.style.transform = `translate(${(Math.random()-0.5)*160}px, ${(Math.random()-0.5)*160}px) scale(${Math.random()*1+0.6})`;
        p.style.opacity='1';
        document.body.appendChild(p);
        requestAnimationFrame(()=>{ p.style.opacity='0'; });
        setTimeout(()=> p.remove(), 620);
      }
    }
    $('#spark').addEventListener('click', (e)=> burst(e.currentTarget));

    // =========================
    // Like buttons on cards (with local state)
    // =========================
    $$('.like').forEach(btn => {
      btn.addEventListener('click', ()=>{
        const n = Number(btn.dataset.count||0) + 1;
        btn.dataset.count = n; btn.querySelector('b').textContent = n;
        btn.setAttribute('data-liked','true'); burst(btn);
      });
    });

    // =========================
    // Gallery (random SVG patterns)
    // =========================
    const grid = $('#galleryGrid');
    function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min}
    function makeTile(i){
      const hue = rand(180,320);
      const a = rand(20,40)/100;
      const b = rand(20,40)/100;
      const svg = `<svg viewBox="0 0 160 120" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="g${i}" x1="0" x2="1">
            <stop offset="0" stop-color="hsl(${hue} 80% 60% / ${a})"/>
            <stop offset="1" stop-color="hsl(${(hue+60)%360} 90% 60% / ${b})"/>
          </linearGradient>
        </defs>
        <rect width="160" height="120" fill="url(#g${i})"/>
        <g fill="none" stroke="hsl(${(hue+200)%360} 90% 75% / .9)" stroke-width="${rand(1,3)}">
          ${Array.from({length: rand(5,9)}, _ => `<path d="M${rand(0,30)} ${rand(10,110)} Q ${rand(60,100)} ${rand(0,120)}, ${rand(130,160)} ${rand(10,110)}" />`).join('')}
        </g>
        <g fill="hsl(${(hue+50)%360} 90% 60% / .8)">
          ${Array.from({length: rand(6,14)}, _ => `<circle cx="${rand(10,150)}" cy="${rand(10,110)}" r="${rand(2,6)}" />`).join('')}
        </g>
      </svg>`;
      const fig = document.createElement('figure');
      fig.innerHTML = svg + `<figcaption>#${String(i+1).padStart(2,'0')}</figcaption>`;
      return fig;
    }
    function buildGallery(n=12){ grid.innerHTML=''; for(let i=0;i<n;i++) grid.appendChild(makeTile(i)); }
    function shuffle(){ [...grid.children].sort(()=>Math.random()-.5).forEach(el=>grid.appendChild(el)); }
    buildGallery();
    $('#regen').addEventListener('click', ()=>{ buildGallery(); toast('ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚’å†ç”Ÿæˆã—ã¾ã—ãŸ'); });
    $('#shuffle').addEventListener('click', ()=>{ shuffle(); toast('ä¸¦ã³æ›¿ãˆã¾ã—ãŸ'); });

    // =========================
    // FAQ chevron toggles handled by CSS; nothing else needed
    // =========================

    // =========================
    // Contact form validation (simple client-side)
    // =========================
    const form = $('#contactForm');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      const errs = [];
      if(!data.name || data.name.trim().length < 2) errs.push('ãŠåå‰ã¯2æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„');
      if(!data.email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) errs.push('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“');
      if(!data.msg || data.msg.trim().length < 5) errs.push('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯5æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„');
      const hint = $('#formHint');
      if(errs.length){ hint.textContent = 'âš ï¸ ' + errs.join(' / '); toast('å…¥åŠ›å†…å®¹ã‚’ã”ç¢ºèªãã ã•ã„'); return; }
      hint.textContent=''; toast('é€ä¿¡ã—ã¾ã—ãŸï¼(ãƒ€ãƒŸãƒ¼)');
      form.reset();
    });

    // =========================
    // Toast & ToTop
    // =========================
    const toastEl = $('#toast');
    let toastTimer;
    function toast(msg){
      toastEl.textContent = msg; toastEl.classList.add('show');
      clearTimeout(toastTimer); toastTimer = setTimeout(()=> toastEl.classList.remove('show'), 2200);
    }
    const toTop = $('#toTop');
    addEventListener('scroll', ()=>{ if(scrollY>400) toTop.classList.add('show'); else toTop.classList.remove('show'); });
    toTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    // =========================
    // Misc
    // =========================
    $('#year').textContent = new Date().getFullYear();

    // Keyboard: press "g" to regenerate gallery for fun
    addEventListener('keydown', (e)=>{ if(e.key.toLowerCase()==='g'){ buildGallery(); toast('ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚’å†ç”Ÿæˆ (G)'); }});
  </script>
</body>
</html>